let request = require('request')
let  Crawler = require('crawler')
var c = new Crawler({
  // 在每个请求处理完毕后将调用此回调函数
  callback : function (error, res, done) {
      if(error){
          console.log(error);
      }else{
          var $ = res.$;
          let fs = require('fs');
          fs.writeFile('./res.html', JSON.stringify(res.body),function() {
            console.log(11)
          })
          // $ 默认为 Cheerio 解析器
          // 它是核心jQuery的精简实现，可以按照jQuery选择器语法快速提取DOM元素
          console.log($("title").text());
          console.log($("body").html());
      }
      done();
  }
});
/**
 * 
 * 
 * https://www.facebook.com/search/pages/?q=%E0%B9%80%E0%B8%AA%E0%B8%B7%E0%B9%89%E0%B8%AD%E0%B8%A2%E0%B8%B7%E0%B8%94%E0%B8%AA%E0%B8%B5%E0%B8%9E%E0%B8%B7%E0%B9%89%E0%B8%99%2045%20%E0%B8%9A%E0%B8%B2%E0%B8%97%20by%20%E0%B8%84%E0%B8%B8%E0%B8%93%E0%B9%80%E0%B8%97%E0%B8%AD%E0%B8%A3%E0%B9%8C&epa=FILTERS&filters=eyJmaWx0ZXJfcGFnZXNfbG9jYXRpb24iOiJ7XCJuYW1lXCI6XCJmaWx0ZXJfcGFnZXNfbG9jYXRpb25cIixcImFyZ3NcIjpcIjExMDU4NTk0NTYyODMzNFwifSJ9
 * 
 * 
 * https://www.facebook.com/ajax/pagelet/generic.php/BrowseScrollingSetPagelet?fb_dtsg_ag=AQxFYznodvkXF_fdof-YH-ELbdz6iE7QL4Imv-ZqkLpU6Q%3AAQwy_RwFmzywUSUHnfKGjf_bXIN4Q3v3AhZV_e6vZJkIGw&data=%7B%22view%22%3A%22list%22%2C%22encoded_query%22%3A%22Abo5ujeDWtICG3kaAkmOcyw7y9xl-s15xQgi7Df43_h81uc1DugigaJFShxv21qjljCy5byWSmZG_THYxKNixHtRYwm3eb4s1TKrEGxmSLDbRRGzyIrFHjYobpBwo9lAegl7UTZn4aUj76eK3X3yRfBBu5BhYkilJ8NVDQ0Ru-lRnvWdqHpmq8G6Zxc1hOQwdlgIamjttLgmkzo5pq3fRMjx8oFqkKdiS56lHAYuvMyVb_HHozdZZ_xl2D4K4BwimZctSyCSZ4xUccUqufZpBTAe6Kx3msHTbQnMwbEr4NZaOFnBY-C3G-Wf9WJAF9x0ZitSYFpSf5qSLxuREY4voz8B4FUwFrgylhZGarwSwtmclNmj2ngggrhbrILME78NyYL1sKDngX1CYPS_s5pDGjDHERdho3E1zFa_Di8i_HYAn2fIA4rBhv1VCjGjrVqys45fzV_OTgUw_Fl0EfDWzpFaxlDXLbi4PnCfojx4bFoiU9i_E34drmy1RYHAGM5Pfoe3mcHtMUzgxN6smSo59a0lYhM6fNs6rufTkwwcNEJpsyDqLWeI4LWvH7mvek-C9AaM5kc3T4QOynjgnmzInWvu0o6juqVjS7UV7egfcnM0_1MTKAWA2pX8VDwJFe4Nrnm7BQ-BTkPUZv6u22Zg6Mx3Rg-SabnOStL0ER5ZoggUZpodoZPWjP4CFQj9aTNM8iGbrqrcenSLJnIW13PyH8fCz_BUq6LNpm1T_7YNeYJbmQwNRnGhRh2AoRWdl2WSulxt3Bjhw_tTqhFvcg-EK-MSewm4aJddc7gw7Mcdy2_SA5PnOCSRGFXkONPlQ9w_oYZXZEdSNhCeX8z4jmJJ1l3sD3vNUUJBgYxngqFNlXs9TXLKbiBce0e2F1VrcpLy_gUnpJNaiV9LCjcK00LXkICjgGtbR0A7ysj4cACKlp7GbYqnxOz2b-L6U176GeXguU_vaaHsTlR3lg0s4dSUF4bHOv8aDDSn21O6pjiw2sZNYyEydT_YY3ZXAnzeAWOnw6ul27yV1FYDtAcmt6bxK2Xvi8EAtLfBwzixeHf8F2lg1IBFuDzhGhsOuZU2i1GPwZsLV2nthX2HzItaQgAYfGXrvCF8_B8p3MOjYIBAnt6iD3jo2RUzEv41yTFtPxIYlS3uCyFo4jFA92oLp-FSyDAOL5NOHAePWkFGbI4oeMwlEbZL9LGSylufMRyYBQz8CyoglklAekfb7iikurGfKQvr8CQBj6zwyXDREXLho92PX6khHmYbIhhsyqBl2gRXye-eRrmR7aXXS2yy0eqhsHAnI3mZ96bkxK7zehhQcS2_WzQuyK7OilCPphd9qJJyzRPz0GwSKb7yf6RQ1DiPl434XJQeYBxz3J7tz-n0MOc7Ke_ZuLbVxgdwG9BVLj0sYeWUrwKJMGyyLnKozdVDbhCNbnve5XSmkHxm03ZuJOorixg2MYJX4UAi_t6kRpkq988P7apluwBJxnLW63aW_t8F_RAFVI4X8kYHTbHGj_UIeMKcPev4ElIf2dzpmGZlJcGRSxCAePcTmI-bqHCAKuq8mzXnXtWW-JZxLWPebvZx9Tn1eOAtTXvIt69qjYBug6mHr3Z_KIVvf7teBVlHwLc3W0B-gJJroFvs9aWfrsV19zjkYyUJPZ7deyL8REtJpEsabzxjIq5Y7vz5Pzo_3-mpikmt0wweKbiMKOHyTiiMybOZ-Aw8sOgF-JeHto_M90N-vbXUWWC0q7e8iVWjHgmlt4VK91oyNyamWpKOe-DSH6GdFUyL8spEd0SIzJC2NKT7V6m5TN1TPeATe-ZPjDc-l56KShjgfrw67kCYpsJ6eq5lTx2XevnmwQZ7CFfNbLjtL7D_ENeecSk67UUkGbMfLiFaRv6IW4ST6bcF-ugx2aXWUvVH8MyNJMCWeZfg8tqE5nUWsIPErrfkXUQw_E5rFagiOUG6YlqKV6Fc1wAAiYirxrnqCnko2dfSdV1opQrkFJCMkxxtied-1DEfzr5UY9hSKdx-Wgv-V18g_3-wLQ%22%2C%22encoded_title%22%3A%22WyJcdTAwMjVFMFx1MDAyNUI5XHUwMDI1ODBcdTAwMjVFMFx1MDAyNUI4XHUwMDI1QUFcdTAwMjVFMFx1MDAyNUI4XHUwMDI1QjdcdTAwMjVFMFx1MDAyNUI5XHUwMDI1ODlcdTAwMjVFMFx1MDAyNUI4XHUwMDI1QURcdTAwMjVFMFx1MDAyNUI4XHUwMDI1QTJcdTAwMjVFMFx1MDAyNUI4XHUwMDI1QjdcdTAwMjVFMFx1MDAyNUI4XHUwMDI1OTRcdTAwMjVFMFx1MDAyNUI4XHUwMDI1QUFcdTAwMjVFMFx1MDAyNUI4XHUwMDI1QjVcdTAwMjVFMFx1MDAyNUI4XHUwMDI1OUVcdTAwMjVFMFx1MDAyNUI4XHUwMDI1QjdcdTAwMjVFMFx1MDAyNUI5XHUwMDI1ODlcdTAwMjVFMFx1MDAyNUI4XHUwMDI1OTkrNDUrXHUwMDI1RTBcdTAwMjVCOFx1MDAyNTlBXHUwMDI1RTBcdTAwMjVCOFx1MDAyNUIyXHUwMDI1RTBcdTAwMjVCOFx1MDAyNTk3K2J5K1x1MDAyNUUwXHUwMDI1QjhcdTAwMjU4NFx1MDAyNUUwXHUwMDI1QjhcdTAwMjVCOFx1MDAyNUUwXHUwMDI1QjhcdTAwMjU5M1x1MDAyNUUwXHUwMDI1QjlcdTAwMjU4MFx1MDAyNUUwXHUwMDI1QjhcdTAwMjU5N1x1MDAyNUUwXHUwMDI1QjhcdTAwMjVBRFx1MDAyNUUwXHUwMDI1QjhcdTAwMjVBM1x1MDAyNUUwXHUwMDI1QjlcdTAwMjU4QyJd%22%2C%22ref%22%3A%22br_tf%22%2C%22logger_source%22%3A%22www_main%22%2C%22typeahead_sid%22%3A%220.3615491104600679%22%2C%22tl_log%22%3Afalse%2C%22impression_id%22%3A%220eiNVo8AoJ07Rngb3%22%2C%22filter_ids%22%3A%7B%221951032518471645%22%3A1951032518471645%2C%22322579474788479%22%3A322579474788479%2C%221703117909919241%22%3A1703117909919241%7D%2C%22experience_type%22%3A%22grammar%22%2C%22exclude_ids%22%3Anull%2C%22browse_location%22%3A%22browse_location%3Abrowse%22%2C%22trending_source%22%3Anull%2C%22reaction_surface%22%3Anull%2C%22reaction_session_id%22%3Anull%2C%22ref_path%22%3A%22%2Fsearch%2Fpages%2F%22%2C%22is_trending%22%3Afalse%2C%22topic_id%22%3Anull%2C%22place_id%22%3Anull%2C%22story_id%22%3Anull%2C%22callsite%22%3A%22browse_ui%3Ainit_result_set%22%2C%22has_top_pagelet%22%3Atrue%2C%22display_params%22%3A%7B%22crct%22%3A%22none%22%7D%2C%22cursor%22%3A%22Abrx-CO9tjw3o5ZmFHy38aP5DdfEE7X2lp_rJgrzK19yQteFN2AYTgbMSNK-j7T-wu2B4AImGI7BvjZ-Pyfj85a8Z2_HZM2e5GQV2DtJhjI3sc-S8_bm543yl5LNh557tXZG857fL1IhsDoWb-15P4NoejgEamLttQE3FIN0TvVyx7eXhclFMo5waUbiNa8hqnrX-yd-H55Ls9ws5D2Rl3875bDJ5DEvLqsWMK8D88GO4H0r3k-tlbadNAbmkcMK_zwRcH-gTCpHw7GeKL7BtWNIv5yi8UK9Y1PejrlHuqvxORpST5QYUDM9toMgMTavwDjxASSJAK0jPR7NEpH7g0pkuFkFUYcBCOnoXh-fnYfHey9TMEzKw7b38oSDKy1fV8KLoA8sVkZFzvvdqn5Ur69Q85obQsQ5x_lVsbRrElKhZLUGcc0I4JviSb9jh32RMEehxol7kJssG-CjH-gLPl-6Rd1B-c84_idYNeMnty7tzuKSfDD2A-NZ2TvHGLUXW82CBiHPozQ6GTp-XMtGZ5fjcTPePmIvnqtJZ0tz5737g_oYRQHkYgp1VHQ198GQZjIjaOFH4t9GhXa-0heStqX36fNO5F3vy6lDf0f7RxtFZRpYLpuawt7IR41Jpe0MNJ8ny8Z2kXHzD3lkkrRMwrb_8vjX5RTur3YDtCsvsUBcFx1D-knIcaQdiIWU7MsqZDBuEECghtNNIu-4pDd7RV60jr9qArMN09pg5v6hIBeEMjqoH99Gcm_JgxF0P1AYhod8icbkx5QJJuXWiiqgPruoLNUDEdfgeHpgwPn6EQos9QxUWTXPTxukknPpw0Y2l-F3rj9rK6woG5aHlAiZ3dRX-HeAU0klkq0jx91iZRT2g3e335T3BUleM94rDcTc_G4097H5CuGiYOocvtXm4HVNeE4R9xcip2OHiZ3KusJC6YtJ-5dGFKh0Xhkq4a1nWHeBfJYZnvDUT9sKa6GLjGAZeo0DHrv6UN9EH22ya8KFXhFxgIUmU3cH5MQgOBrN2DrFvM8QnZUO6anRTgEE0yTVImcbCVQ3jrLJdw-DRLPimBkeWcWyBCQWJxbpftRPY0BEiiuEMMk7NXEYzYEVrZHaKP1rGJeSa3hwgvzwwKt6Mr7l4yy9O-3JYn5aK9bqav0alg8kvjTKLOMlpeTHPg2kF_9mONjWnHhJDIyf1lkuUJoaWs_JfRDNL7ipxAmiNLxhjBOTx_TNQeJ7NMqne_pkZ2ijBSQUTRrqz7MJ7lmNzjKvRljiaRzSyMTESDvYVK833910Qb1os6Te0v5Xwuh4ajKF8lFEnnyflKPENwflOvgy5_Gufnoi--qazdhoQ2jONrja6S5hc5KOno2RR7b8ftrNA4yNLufh3YfEDALro8IgS0VoGx-ht6F3P5TGoCJ8qZ3bq-vRm7x5apwXhvxFkhtu4NNJKKKPAxpNetFe_rCeg0ufnVmy7ASZZ2i4nHKJpf2KxmTeyYYR_VqBLp-JDby4aWnH7iInURZKkat-_W61fH5UJbEdDZ42EvBLHJCLnRnKh7pDGPzU-FaPDWdXrGhJ667dkvLWvd-p_0XLSCkZssrSjLcTLgtr2wtAZfw8X2zcdnKjLOeKdp0LZp3DckSkerD-48V7tyhSNyFpEgc4nCfbI4CVFM-8rUgRW-cb6GNdVDdQQ44VdN1w_NxPF2xH05UoouuihW-hKUcAqufYhPgW9hT_hgulrYVpU5QAl2LMyhNQUqEHkSY0rlivXot15LvMRMxLeBy7e9WqMjINpjnQEcuLSqUvjEHv8VisAHbKTe2qF0urL83alOqHHHzlfJQN8NS1rUNiGs98Ddo704t_T7HYhcK8oeq0lLPjlPwebaLcGlDqNqLkXbwPxl_QcFv27rmX_u8SF2EWoAwQcwbteJiDJgCiGjgJvaJWJPn3zM0G_uv8b7ArCoXgj31cJrX6tTpqhGIzbBmYUX34-x0tXKt8u-qI5xGQmHM%22%2C%22page_number%22%3A4%2C%22em%22%3Afalse%2C%22tr%22%3Anull%7D&__user=100047202616063&__a=1&__dyn=7AgNe-4am2d2u6aJGeFxqewRyWzEpF4Wo8oeES2N6wAxu13wFUfovGbxK5WwIK7HzEeUG3yczobohx3wCxC78O5U6y58iwBx61zwzwnqwQwupVE5u263WWxS68nxK2C12wgovwHwrEszXw8q6oix62PK2ilxfwzxmfz9rxC2i1lwad4xrzHAy8aEaoGqfwhUO68pwAwhVEW5AbxS227Ua8y4EgwtouwLwKG2q4U7u8BwBzUuxy5po3cwUw&__csr=&__req=6x&__beoa=0&__pc=PHASED%3ADEFAULT&dpr=2&__rev=1001714416&__s=iiuguw%3A9ksl4r%3A9af1hm&__hsi=6793265455205403662-0&jazoest=28236&__spin_r=1001714416&__spin_b=trunk&__spin_t=1581673757
 */
console.log('start')
// request.get('https://search.jd.com/Search?keyword=%E6%89%8B%E6%9C%BA&enc=utf-8&suggest=7.def.0.V18--12s0,20s0,38s0,97s0&wq=sh&pvid=1987659ac5ff42b9857a3f7bf3de8db8',function(res, req) {
//   console.log(res,req)
// })
c.queue(['https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&rsv_idx=1&tn=baidu&wd=312321&rsv_pq=8f15d2cc00007f2d&rsv_t=ee0em95LxeCjObAc9%2BAZ0praUnz6tHPIM1rTwZw6VT7%2FTcRmmI2W2dslvig&rqlang=cn&rsv_enter=1&rsv_dl=tb&rsv_sug3=7&rsv_sug2=0&inputT=519&rsv_sug4=614', 'https://www.baidu.com/s?ie=UTF-8&wd=headless%20chrome']);
// request.get('https://www.facebook.com/yjtshirt/?ref=br_rs',function(res, req) {
//   console.log(res,req)
// })
console.log('end')
